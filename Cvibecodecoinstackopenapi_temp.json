{"openapi":"3.1.0","info":{"title":"CoinStack V2 API","version":"0.1.0"},"paths":{"/api/v2/coins":{"post":{"tags":["coins"],"summary":"Create Coin","operationId":"create_coin_api_v2_coins_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCoinRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["coins"],"summary":"Get Coins","description":"Get paginated list of coins with optional filtering.\n\nFilters can be combined. All filters use AND logic.\nIf `ids` parameter is provided, returns only those coins (ignores pagination).","operationId":"get_coins_api_v2_coins_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":20,"title":"Per Page"}},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort By"}},{"name":"sort_dir","in":"query","required":false,"schema":{"type":"string","pattern":"^(asc|desc)$","default":"asc","title":"Sort Dir"}},{"name":"ids","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of coin IDs to fetch","title":"Ids"},"description":"Comma-separated list of coin IDs to fetch"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category (e.g., roman_imperial, greek)","title":"Category"},"description":"Filter by category (e.g., roman_imperial, greek)"},{"name":"metal","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by metal (e.g., gold, silver, bronze)","title":"Metal"},"description":"Filter by metal (e.g., gold, silver, bronze)"},{"name":"denomination","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by denomination (e.g., denarius, aureus)","title":"Denomination"},"description":"Filter by denomination (e.g., denarius, aureus)"},{"name":"grading_state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by grading state (raw, slabbed)","title":"Grading State"},"description":"Filter by grading state (raw, slabbed)"},{"name":"grade_service","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by grading service (ngc, pcgs)","title":"Grade Service"},"description":"Filter by grading service (ngc, pcgs)"},{"name":"issuer","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by issuer name (partial match)","title":"Issuer"},"description":"Filter by issuer name (partial match)"},{"name":"year_start","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by minimum year (negative for BC)","title":"Year Start"},"description":"Filter by minimum year (negative for BC)"},{"name":"year_end","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by maximum year (negative for BC)","title":"Year End"},"description":"Filter by maximum year (negative for BC)"},{"name":"mint_year_gte","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Alias for year_start (frontend param)","title":"Mint Year Gte"},"description":"Alias for year_start (frontend param)"},{"name":"mint_year_lte","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Alias for year_end (frontend param)","title":"Mint Year Lte"},"description":"Alias for year_end (frontend param)"},{"name":"weight_min","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Filter by minimum weight in grams","title":"Weight Min"},"description":"Filter by minimum weight in grams"},{"name":"weight_max","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Filter by maximum weight in grams","title":"Weight Max"},"description":"Filter by maximum weight in grams"},{"name":"grade","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by grade (e.g., XF, VF, or tier like 'fine')","title":"Grade"},"description":"Filter by grade (e.g., XF, VF, or tier like 'fine')"},{"name":"rarity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by rarity (e.g., R1, Common)","title":"Rarity"},"description":"Filter by rarity (e.g., R1, Common)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}":{"get":{"tags":["coins"],"summary":"Get Coin","operationId":"get_coin_api_v2_coins__coin_id__get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["coins"],"summary":"Update Coin","operationId":"update_coin_api_v2_coins__coin_id__put","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCoinRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["coins"],"summary":"Delete Coin","operationId":"delete_coin_api_v2_coins__coin_id__delete","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/by-reference":{"get":{"tags":["coins"],"summary":"Get Coins By Reference","description":"Search for coins by catalog reference.\n\nExamples:\n- /api/v2/coins/by-reference?catalog=RIC&number=756\n- /api/v2/coins/by-reference?catalog=RIC&volume=II&number=756\n- /api/v2/coins/by-reference?catalog=RPC%20I&number=4374  (RPC I 4374)\n- /api/v2/coins/by-reference?catalog=Crawford&number=44/5\n\nNote: This endpoint requires the coin_references table to be populated.","operationId":"get_coins_by_reference_api_v2_coins_by_reference_get","parameters":[{"name":"catalog","in":"query","required":true,"schema":{"type":"string","description":"Catalog system (e.g., RIC, Crawford, Sear, RSC, RPC, BMC). May include volume: 'RPC I' -> RPC vol I","title":"Catalog"},"description":"Catalog system (e.g., RIC, Crawford, Sear, RSC, RPC, BMC). May include volume: 'RPC I' -> RPC vol I"},{"name":"number","in":"query","required":true,"schema":{"type":"string","description":"Reference number (e.g., 756, 44/5, 1234a)","title":"Number"},"description":"Reference number (e.g., 756, 44/5, 1234a)"},{"name":"volume","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Volume (e.g., II, V.1) - optional; also parsed from catalog if e.g. 'RPC I'","title":"Volume"},"description":"Volume (e.g., II, V.1) - optional; also parsed from catalog if e.g. 'RPC I'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferenceSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/audit/enrichments":{"get":{"tags":["audit"],"summary":"List Enrichments","description":"List enrichment opportunities: coin field empty and auction_data has value.\nComputed on the fly from coins that have linked auction_data. No new table for MVP.","operationId":"list_enrichments_api_v2_audit_enrichments_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"pending | applied | rejected | ignored","title":"Status"},"description":"pending | applied | rejected | ignored"},{"name":"trust_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trust Level"}},{"name":"coin_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Coin Id"}},{"name":"auto_applicable","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Applicable"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichmentsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/audit/enrichments/bulk-apply":{"post":{"tags":["audit"],"summary":"Bulk Apply Enrichments","description":"Apply multiple enrichments by (coin_id, field_name, value).","operationId":"bulk_apply_enrichments_api_v2_audit_enrichments_bulk_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichmentBulkApplyBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/audit/enrichments/apply":{"post":{"tags":["audit"],"summary":"Apply One Enrichment","description":"Apply a single enrichment by (coin_id, field_name, value).","operationId":"apply_one_enrichment_api_v2_audit_enrichments_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichmentApplyBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/audit/enrichments/auto-apply-empty":{"post":{"tags":["audit"],"summary":"Auto Apply Empty Enrichments","description":"Apply all pending enrichments where coin field is empty (server-side).\nFetches opportunities and applies them in one go.","operationId":"auto_apply_empty_enrichments_api_v2_audit_enrichments_auto_apply_empty_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v2/audit/{coin_id}":{"get":{"tags":["audit"],"summary":"Audit Coin","operationId":"audit_coin_api_v2_audit__coin_id__get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/audit/{coin_id}/apply":{"post":{"tags":["audit"],"summary":"Apply Enrichment","operationId":"apply_enrichment_api_v2_audit__coin_id__apply_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyEnrichmentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/scrape/lot":{"post":{"tags":["scrape"],"summary":"Scrape Lot","operationId":"scrape_lot_api_v2_scrape_lot_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/scrape/enrich":{"post":{"tags":["scrape"],"summary":"Enrich Coin","operationId":"enrich_coin_api_v2_scrape_enrich_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/import/enrich-preview":{"post":{"tags":["import"],"summary":"Enrich Preview","description":"Look up catalog data for given references and return suggestions for import.\nUses CatalogRegistry (OCRE/CRRO/RPC) per reference; merges payload into suggestions.","operationId":"enrich_preview_api_v2_import_enrich_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichPreviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnrichPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/import/from-ngc":{"post":{"tags":["import"],"summary":"Import From Ngc","description":"Fetch NGC certificate and return preview data.\n\nExtracts grade, strike/surface scores, designation, and PhotoVision images.","operationId":"import_from_ngc_api_v2_import_from_ngc_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NGCImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/import/from-url":{"post":{"tags":["import"],"summary":"Import From Url","description":"Scrape auction/listing URL and return preview data.\n\nSupports: Heritage, CNG, eBay, Biddr, Agora","operationId":"import_from_url_api_v2_import_from_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UrlImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportPreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/import/confirm":{"post":{"tags":["import"],"summary":"Confirm Import","description":"Confirm and save imported coin to database.\n\nTakes the edited coin data from the preview and creates/updates a coin record.","operationId":"confirm_import_api_v2_import_confirm_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportConfirmRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportConfirmResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/search/{vocab_type}":{"get":{"tags":["Vocabulary V3"],"summary":"Search Vocab","description":"Search vocabulary terms using FTS5 full-text search.\n\nSupports prefix matching (e.g., \"Aug\" matches \"Augustus\").\nResults are cached for 1 hour.","operationId":"search_vocab_api_v2_vocab_search__vocab_type__get","parameters":[{"name":"vocab_type","in":"path","required":true,"schema":{"type":"string","title":"Vocab Type"}},{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Q"},"description":"Search query"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum results","default":10,"title":"Limit"},"description":"Maximum results"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VocabTermResponse"},"title":"Response Search Vocab Api V2 Vocab Search  Vocab Type  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/terms/{vocab_type}":{"get":{"tags":["Vocabulary V3"],"summary":"List Vocab Terms","description":"List all vocabulary terms of a given type.","operationId":"list_vocab_terms_api_v2_vocab_terms__vocab_type__get","parameters":[{"name":"vocab_type","in":"path","required":true,"schema":{"type":"string","title":"Vocab Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VocabTermResponse"},"title":"Response List Vocab Terms Api V2 Vocab Terms  Vocab Type  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/terms/{vocab_type}/{term_id}":{"get":{"tags":["Vocabulary V3"],"summary":"Get Vocab Term","description":"Get a specific vocabulary term by ID.","operationId":"get_vocab_term_api_v2_vocab_terms__vocab_type___term_id__get","parameters":[{"name":"vocab_type","in":"path","required":true,"schema":{"type":"string","title":"Vocab Type"}},{"name":"term_id","in":"path","required":true,"schema":{"type":"integer","title":"Term Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocabTermResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/normalize":{"post":{"tags":["Vocabulary V3"],"summary":"Normalize Vocab","description":"Normalize raw text to a canonical vocabulary term.\n\nUses a chain of matching strategies:\n1. Exact match (case-sensitive) → confidence 1.0\n2. Case-insensitive exact match → confidence 0.98\n3. Alias match → confidence 0.97\n4. FTS5 fuzzy match → confidence 0.80-0.99\n5. Nomisma reconciliation API → confidence 0.85\n\nReturns needs_review=True if confidence < 0.92 or no match found.","operationId":"normalize_vocab_api_v2_vocab_normalize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NormalizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NormalizeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/sync/{vocab_type}":{"post":{"tags":["Vocabulary V3"],"summary":"Sync Nomisma","description":"Sync vocabulary from Nomisma SPARQL endpoint.\n\nOnly supports issuer, mint, and denomination types.\nThis is a synchronous operation that may take 30-60 seconds.","operationId":"sync_nomisma_api_v2_vocab_sync__vocab_type__post","parameters":[{"name":"vocab_type","in":"path","required":true,"schema":{"type":"string","title":"Vocab Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/bulk":{"post":{"tags":["Vocabulary V3"],"summary":"Bulk Normalize","description":"Bulk normalize coins (runs in background).\n\nIf coin_ids is None, normalizes all coins.\nReturns immediately with a status message.","operationId":"bulk_normalize_api_v2_vocab_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkNormalizeRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/review":{"get":{"tags":["Vocabulary V3"],"summary":"Get Review Queue","description":"Get items needing manual review.","operationId":"get_review_queue_api_v2_vocab_review_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","default":"pending_review","title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewQueueItem"},"title":"Response Get Review Queue Api V2 Vocab Review Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/review/{assignment_id}/approve":{"post":{"tags":["Vocabulary V3"],"summary":"Approve Review","description":"Approve a pending vocabulary assignment.","operationId":"approve_review_api_v2_vocab_review__assignment_id__approve_post","parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/vocab/review/{assignment_id}/reject":{"post":{"tags":["Vocabulary V3"],"summary":"Reject Review","description":"Reject a pending vocabulary assignment.","operationId":"reject_review_api_v2_vocab_review__assignment_id__reject_post","parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vocab/issuers":{"get":{"tags":["Vocabulary (Legacy)"],"summary":"Legacy List Issuers","description":"Legacy endpoint - list issuers from old schema.","operationId":"legacy_list_issuers_api_vocab_issuers_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vocab/normalize/issuer":{"post":{"tags":["Vocabulary (Legacy)"],"summary":"Legacy Normalize Issuer","description":"Legacy endpoint - normalize issuer using old normalizer.","operationId":"legacy_normalize_issuer_api_vocab_normalize_issuer_post","parameters":[{"name":"raw","in":"query","required":true,"schema":{"type":"string","title":"Raw"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacyNormalizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/vocab/sync/nomisma/issuers":{"post":{"tags":["Vocabulary (Legacy)"],"summary":"Legacy Sync Issuers","description":"Legacy endpoint - sync issuers from Nomisma.","operationId":"legacy_sync_issuers_api_vocab_sync_nomisma_issuers_post","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacySyncResponse"}}}}}}},"/api/vocab/sync/nomisma/mints":{"post":{"tags":["Vocabulary (Legacy)"],"summary":"Legacy Sync Mints","description":"Legacy endpoint - sync mints from Nomisma.","operationId":"legacy_sync_mints_api_vocab_sync_nomisma_mints_post","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegacySyncResponse"}}}}}}},"/api/v2/series":{"get":{"tags":["series"],"summary":"List Series","operationId":"list_series_api_v2_series_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeriesListResponse"}}}}}},"post":{"tags":["series"],"summary":"Create Series","operationId":"create_series_api_v2_series_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeriesCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeriesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/series/{series_id}":{"get":{"tags":["series"],"summary":"Get Series","operationId":"get_series_api_v2_series__series_id__get","parameters":[{"name":"series_id","in":"path","required":true,"schema":{"type":"integer","title":"Series Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeriesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/series/{series_id}/slots":{"post":{"tags":["series"],"summary":"Add Slot","operationId":"add_slot_api_v2_series__series_id__slots_post","parameters":[{"name":"series_id","in":"path","required":true,"schema":{"type":"integer","title":"Series Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SlotCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SlotResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/series/{series_id}/coins/{coin_id}":{"post":{"tags":["series"],"summary":"Add Coin To Series","operationId":"add_coin_to_series_api_v2_series__series_id__coins__coin_id__post","parameters":[{"name":"series_id","in":"path","required":true,"schema":{"type":"integer","title":"Series Id"}},{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"slot_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Slot Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MembershipResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["series"],"summary":"Remove Coin From Series","operationId":"remove_coin_from_series_api_v2_series__series_id__coins__coin_id__delete","parameters":[{"name":"series_id","in":"path","required":true,"schema":{"type":"integer","title":"Series Id"}},{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/vocab/normalize":{"post":{"tags":["LLM"],"summary":"Normalize vocabulary term","description":"Normalize raw numismatic text to canonical vocabulary term.","operationId":"normalize_vocab_api_v2_llm_vocab_normalize_post","parameters":[{"name":"x-request-id","in":"header","required":false,"schema":{"type":"string","title":"X-Request-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocabNormalizeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VocabNormalizeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/legend/expand":{"post":{"tags":["LLM"],"summary":"Expand Latin legend","description":"Expand abbreviated Latin coin legend to full form.","operationId":"expand_legend_api_v2_llm_legend_expand_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegendExpandRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegendExpandResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/auction/parse":{"post":{"tags":["LLM"],"summary":"Parse auction description","description":"Extract structured coin data from auction lot description.","operationId":"parse_auction_api_v2_llm_auction_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuctionParseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuctionParseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/provenance/parse":{"post":{"tags":["LLM"],"summary":"Parse provenance","description":"Extract provenance chain from auction/catalog text.","operationId":"parse_provenance_api_v2_llm_provenance_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvenanceParseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvenanceParseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/identify":{"post":{"tags":["LLM"],"summary":"Identify coin from image","description":"Use vision AI to identify a coin from photos.","operationId":"identify_coin_api_v2_llm_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinIdentifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinIdentifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/identify/coin/{coin_id}":{"post":{"tags":["LLM"],"summary":"Identify coin from its primary image","description":"Run identify on the coin's primary image and save attribution + descriptions + refs as suggestions.","operationId":"identify_coin_for_coin_api_v2_llm_identify_coin__coin_id__post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinIdentifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/reference/validate":{"post":{"tags":["LLM"],"summary":"Validate catalog reference","description":"Validate and cross-reference catalog numbers.","operationId":"validate_reference_api_v2_llm_reference_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferenceValidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferenceValidateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/context/generate":{"post":{"tags":["LLM"],"summary":"Generate historical context","description":"Generate historical context narrative for a coin.","operationId":"generate_context_api_v2_llm_context_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextGenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/attribution/assist":{"post":{"tags":["LLM"],"summary":"Suggest attribution","description":"Suggest coin attribution from partial information.","operationId":"assist_attribution_api_v2_llm_attribution_assist_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttributionAssistRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttributionAssistResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/legend/transcribe":{"post":{"tags":["LLM"],"summary":"Transcribe legend from image","description":"OCR-like legend transcription from coin images.","operationId":"transcribe_legend_api_v2_llm_legend_transcribe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegendTranscribeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegendTranscribeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/legend/transcribe/coin/{coin_id}":{"post":{"tags":["LLM"],"summary":"Transcribe legends for coin","description":"Run legend/transcribe on the coin's primary image and save suggestions to llm_suggested_design.","operationId":"transcribe_legend_for_coin_api_v2_llm_legend_transcribe_coin__coin_id__post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegendTranscribeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/catalog/parse":{"post":{"tags":["LLM"],"summary":"Parse catalog reference","description":"Parse catalog reference string into components.","operationId":"parse_catalog_api_v2_llm_catalog_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CatalogParseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CatalogParseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/condition/observe":{"post":{"tags":["LLM"],"summary":"Observe coin condition","description":"Describe wear patterns and surface conditions (NOT grades).","operationId":"observe_condition_api_v2_llm_condition_observe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConditionObserveRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConditionObserveResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/status":{"get":{"tags":["LLM"],"summary":"Service status","description":"Get LLM service status and availability.","operationId":"get_status_api_v2_llm_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/api/v2/llm/cost-report":{"get":{"tags":["LLM"],"summary":"Cost report","description":"Get cost breakdown by capability and model.","operationId":"get_cost_report_api_v2_llm_cost_report_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CostReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/metrics":{"get":{"tags":["LLM"],"summary":"Metrics summary","description":"Get performance and error metrics.","operationId":"get_metrics_api_v2_llm_metrics_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"default":24,"title":"Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetricsSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/feedback":{"post":{"tags":["LLM"],"summary":"Submit feedback","description":"Submit accuracy feedback on LLM suggestions.","operationId":"submit_feedback_api_v2_llm_feedback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/review":{"get":{"tags":["LLM"],"summary":"Get LLM suggestions for review","description":"Get all coins with pending LLM suggestions (references, rarity) for review.","operationId":"get_llm_review_queue_api_v2_llm_review_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Maximum items to return","default":100,"title":"Limit"},"description":"Maximum items to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMReviewQueueResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/review/{coin_id}/dismiss":{"post":{"tags":["LLM"],"summary":"Dismiss LLM suggestions","description":"Clear LLM suggestions for a coin (reject all or by type).","operationId":"dismiss_llm_suggestions_api_v2_llm_review__coin_id__dismiss_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"dismiss_references","in":"query","required":false,"schema":{"type":"boolean","description":"Dismiss reference suggestions","default":true,"title":"Dismiss References"},"description":"Dismiss reference suggestions"},{"name":"dismiss_rarity","in":"query","required":false,"schema":{"type":"boolean","description":"Dismiss rarity suggestions","default":true,"title":"Dismiss Rarity"},"description":"Dismiss rarity suggestions"},{"name":"dismiss_design","in":"query","required":false,"schema":{"type":"boolean","description":"Dismiss design/legend suggestions","default":true,"title":"Dismiss Design"},"description":"Dismiss design/legend suggestions"},{"name":"dismiss_attribution","in":"query","required":false,"schema":{"type":"boolean","description":"Dismiss attribution suggestions","default":true,"title":"Dismiss Attribution"},"description":"Dismiss attribution suggestions"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/llm/review/{coin_id}/approve":{"post":{"tags":["LLM"],"summary":"Approve and apply LLM suggestions","description":"Apply suggested rarity and catalog references to the coin, then clear suggestions.","operationId":"approve_llm_suggestions_api_v2_llm_review__coin_id__approve_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/review/counts":{"get":{"tags":["Review"],"summary":"Get Review Counts","description":"Get counts of items pending review across all sources.\n\nAggregates counts from:\n- Vocabulary assignments (pending_review status)\n- LLM suggestions (suggested references or rarity)\n- Images (future)\n- Data discrepancies (future)","operationId":"get_review_counts_api_v2_review_counts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCountsResponse"}}}}}}},"/api/v2/coins/{coin_id}/provenance":{"get":{"tags":["Provenance"],"summary":"Get pedigree timeline","description":"Get the full pedigree (ownership history) timeline for a coin, from earliest known to current ownership.","operationId":"get_provenance_chain_api_v2_coins__coin_id__provenance_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvenanceChainResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Provenance"],"summary":"Add provenance entry","description":"Add a new provenance entry to a coin's pedigree timeline.","operationId":"add_provenance_entry_api_v2_coins__coin_id__provenance_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvenanceEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__infrastructure__web__routers__provenance__ProvenanceEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/provenance/{provenance_id}":{"put":{"tags":["Provenance"],"summary":"Update provenance entry","description":"Update an existing provenance entry.","operationId":"update_provenance_entry_api_v2_provenance__provenance_id__put","parameters":[{"name":"provenance_id","in":"path","required":true,"schema":{"type":"integer","title":"Provenance Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvenanceEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__infrastructure__web__routers__provenance__ProvenanceEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Provenance"],"summary":"Delete provenance entry","description":"Delete a provenance entry from a coin's pedigree timeline.","operationId":"delete_provenance_entry_api_v2_provenance__provenance_id__delete","parameters":[{"name":"provenance_id","in":"path","required":true,"schema":{"type":"integer","title":"Provenance Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/provenance/acquisition":{"get":{"tags":["Provenance"],"summary":"Get acquisition entry","description":"Get the current ownership (acquisition) entry for a coin.","operationId":"get_acquisition_entry_api_v2_coins__coin_id__provenance_acquisition_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/src__infrastructure__web__routers__provenance__ProvenanceEntryResponse"},{"type":"null"}],"title":"Response Get Acquisition Entry Api V2 Coins  Coin Id  Provenance Acquisition Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/links/coin/{coin_id}":{"get":{"tags":["Die Study"],"summary":"Get die links for a coin","description":"Get all die links involving a specific coin.","operationId":"get_links_for_coin_api_v2_die_study_links_coin__coin_id__get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DieLinkResponse"},"title":"Response Get Links For Coin Api V2 Die Study Links Coin  Coin Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/links":{"post":{"tags":["Die Study"],"summary":"Create die link","description":"Create a die link between two coins.","operationId":"create_link_api_v2_die_study_links_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieLinkCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/links/{link_id}":{"put":{"tags":["Die Study"],"summary":"Update die link","description":"Update a die link's confidence, reference, or notes.","operationId":"update_link_api_v2_die_study_links__link_id__put","parameters":[{"name":"link_id","in":"path","required":true,"schema":{"type":"integer","title":"Link Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieLinkUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Die Study"],"summary":"Delete die link","description":"Delete a die link.","operationId":"delete_link_api_v2_die_study_links__link_id__delete","parameters":[{"name":"link_id","in":"path","required":true,"schema":{"type":"integer","title":"Link Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/groups":{"get":{"tags":["Die Study"],"summary":"List die study groups","description":"List all die study groups with optional filtering.","operationId":"list_groups_api_v2_die_study_groups_get","parameters":[{"name":"die_side","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Die Side"}},{"name":"issuer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Issuer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DieGroupResponse"},"title":"Response List Groups Api V2 Die Study Groups Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Die Study"],"summary":"Create die study group","description":"Create a new die study group.","operationId":"create_group_api_v2_die_study_groups_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/groups/{group_id}":{"get":{"tags":["Die Study"],"summary":"Get die study group","description":"Get a die study group by ID with members.","operationId":"get_group_api_v2_die_study_groups__group_id__get","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Die Study"],"summary":"Update die study group","description":"Update a die study group's name or notes.","operationId":"update_group_api_v2_die_study_groups__group_id__put","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Die Study"],"summary":"Delete die study group","description":"Delete a die study group and all memberships.","operationId":"delete_group_api_v2_die_study_groups__group_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/groups/{group_id}/members":{"post":{"tags":["Die Study"],"summary":"Add member to group","description":"Add a coin to a die study group.","operationId":"add_member_api_v2_die_study_groups__group_id__members_post","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupMemberAdd"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DieGroupMemberResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/die-study/groups/{group_id}/members/{coin_id}":{"delete":{"tags":["Die Study"],"summary":"Remove member from group","description":"Remove a coin from a die study group.","operationId":"remove_member_api_v2_die_study_groups__group_id__members__coin_id__delete","parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","title":"Group Id"}},{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/stats/summary":{"get":{"tags":["stats"],"summary":"Get Stats Summary","description":"Get comprehensive collection statistics for the dashboard.\n\nReturns aggregated data including:\n- Total coins and portfolio value\n- Collection health metrics (data completeness)\n- Distributions by category, metal, grade, certification, ruler, year\n- Acquisition timeline (monthly)\n\nAll distributions can be filtered by optional query parameters.","operationId":"get_stats_summary_api_v2_stats_summary_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"metal","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by metal","title":"Metal"},"description":"Filter by metal"},{"name":"grade","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by grade","title":"Grade"},"description":"Filter by grade"},{"name":"issuer","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by issuer/ruler","title":"Issuer"},"description":"Filter by issuer/ruler"},{"name":"year_gte","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Minimum year","title":"Year Gte"},"description":"Minimum year"},{"name":"year_lte","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Maximum year","title":"Year Lte"},"description":"Maximum year"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/catalog/lookup":{"post":{"tags":["Catalog"],"summary":"Lookup reference in official catalogs","description":"Perform a real-time lookup. Can search by reference string (reconcile) or by external_id (fetch).","operationId":"lookup_catalog_api_catalog_lookup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CatalogLookupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CatalogResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/catalog/integrity":{"get":{"tags":["Catalog"],"summary":"Reference integrity report","description":"Report coins with pending LLM reference suggestions but no applied references; optionally orphan reference_types.","operationId":"get_reference_integrity_api_catalog_integrity_get","parameters":[{"name":"orphans","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Orphans"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/catalog/bulk-enrich":{"post":{"tags":["Catalog"],"summary":"Start bulk catalog enrichment","description":"Enqueue bulk catalog enrichment job; poll GET /job/{job_id} for status.","operationId":"bulk_enrich_api_catalog_bulk_enrich_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkEnrichRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkEnrichResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/catalog/job/{job_id}":{"get":{"tags":["Catalog"],"summary":"Get bulk enrichment job status","description":"Poll for job progress; status in queued|running|completed|failed.","operationId":"get_job_status_api_catalog_job__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/catalog/parse":{"post":{"tags":["Catalog V2"],"summary":"Parse catalog reference string","description":"Parse a raw reference string; returns ref, confidence, warnings. Use for import preview or reference field without persisting.","operationId":"parse_catalog_api_v2_catalog_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParseCatalogRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParseCatalogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/catalog/systems":{"get":{"tags":["Catalog V2"],"summary":"List catalog systems","description":"Returns system key -> display name for all supported catalogs.","operationId":"get_catalog_systems_api_v2_catalog_systems_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Catalog Systems Api V2 Catalog Systems Get"}}}}}}},"/api/v2/coins/{coin_id}/grading-history":{"get":{"tags":["Grading History"],"summary":"List grading history","description":"Get all grading history entries for a coin, ordered by sequence.","operationId":"list_grading_history_api_v2_coins__coin_id__grading_history_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Grading History"],"summary":"Create grading history entry","description":"Add a new grading event to a coin's TPG lifecycle.","operationId":"create_grading_history_api_v2_coins__coin_id__grading_history_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/grading-history/current":{"get":{"tags":["Grading History"],"summary":"Get current grading","description":"Get the current (active) grading state for a coin.","operationId":"get_current_grading_api_v2_coins__coin_id__grading_history_current_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/GradingHistoryResponse"},{"type":"null"}],"title":"Response Get Current Grading Api V2 Coins  Coin Id  Grading History Current Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/grading-history/{entry_id}":{"get":{"tags":["Grading History"],"summary":"Get grading history entry","description":"Get a specific grading history entry.","operationId":"get_grading_history_entry_api_v2_coins__coin_id__grading_history__entry_id__get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Grading History"],"summary":"Update grading history entry","description":"Update an existing grading history entry.","operationId":"update_grading_history_entry_api_v2_coins__coin_id__grading_history__entry_id__put","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Grading History"],"summary":"Delete grading history entry","description":"Delete a grading history entry.","operationId":"delete_grading_history_entry_api_v2_coins__coin_id__grading_history__entry_id__delete","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/grading-history/{entry_id}/set-current":{"post":{"tags":["Grading History"],"summary":"Set as current grading","description":"Mark a grading history entry as the current (active) grading state.","operationId":"set_current_grading_api_v2_coins__coin_id__grading_history__entry_id__set_current_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GradingHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/rarity-assessments":{"get":{"tags":["Rarity Assessments"],"summary":"List rarity assessments","description":"Get all rarity assessments for a coin.","operationId":"list_rarity_assessments_api_v2_coins__coin_id__rarity_assessments_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Rarity Assessments"],"summary":"Create rarity assessment","description":"Add a new rarity assessment to a coin.","operationId":"create_rarity_assessment_api_v2_coins__coin_id__rarity_assessments_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/rarity-assessments/primary":{"get":{"tags":["Rarity Assessments"],"summary":"Get primary assessment","description":"Get the primary rarity assessment for a coin.","operationId":"get_primary_assessment_api_v2_coins__coin_id__rarity_assessments_primary_get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/RarityAssessmentResponse"},{"type":"null"}],"title":"Response Get Primary Assessment Api V2 Coins  Coin Id  Rarity Assessments Primary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/rarity-assessments/{assessment_id}":{"get":{"tags":["Rarity Assessments"],"summary":"Get rarity assessment","description":"Get a specific rarity assessment.","operationId":"get_rarity_assessment_api_v2_coins__coin_id__rarity_assessments__assessment_id__get","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"assessment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assessment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Rarity Assessments"],"summary":"Update rarity assessment","description":"Update an existing rarity assessment.","operationId":"update_rarity_assessment_api_v2_coins__coin_id__rarity_assessments__assessment_id__put","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"assessment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assessment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Rarity Assessments"],"summary":"Delete rarity assessment","description":"Delete a rarity assessment.","operationId":"delete_rarity_assessment_api_v2_coins__coin_id__rarity_assessments__assessment_id__delete","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"assessment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assessment Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/coins/{coin_id}/rarity-assessments/{assessment_id}/set-primary":{"post":{"tags":["Rarity Assessments"],"summary":"Set as primary assessment","description":"Mark a rarity assessment as the primary assessment for this coin.","operationId":"set_primary_assessment_api_v2_coins__coin_id__rarity_assessments__assessment_id__set_primary_post","parameters":[{"name":"coin_id","in":"path","required":true,"schema":{"type":"integer","title":"Coin Id"}},{"name":"assessment_id","in":"path","required":true,"schema":{"type":"integer","title":"Assessment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RarityAssessmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AcquisitionMonth":{"properties":{"month":{"type":"string","title":"Month"},"count":{"type":"integer","title":"Count"},"value_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Value Usd"}},"type":"object","required":["month","count"],"title":"AcquisitionMonth"},"AcquisitionResponse":{"properties":{"price":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Price"},"currency":{"type":"string","title":"Currency"},"source":{"type":"string","title":"Source"},"date":{"type":"null","title":"Date"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},"type":"object","required":["price","currency","source"],"title":"AcquisitionResponse"},"ApplyEnrichmentRequest":{"properties":{"field":{"type":"string","title":"Field"},"value":{"type":"string","title":"Value"}},"type":"object","required":["field","value"],"title":"ApplyEnrichmentRequest"},"AttributionAssistRequest":{"properties":{"known_info":{"additionalProperties":true,"type":"object","title":"Known Info","description":"Partial coin information"}},"type":"object","required":["known_info"],"title":"AttributionAssistRequest","description":"Request for attribution assistance."},"AttributionAssistResponse":{"properties":{"suggestions":{"items":{"$ref":"#/components/schemas/AttributionSuggestionResponse"},"type":"array","title":"Suggestions"},"questions_to_resolve":{"items":{"type":"string"},"type":"array","title":"Questions To Resolve"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["suggestions","questions_to_resolve","confidence","cost_usd"],"title":"AttributionAssistResponse","description":"Response from attribution assistance."},"AttributionResponse":{"properties":{"issuer":{"type":"string","title":"Issuer"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"}},"type":"object","required":["issuer"],"title":"AttributionResponse"},"AttributionSuggestionResponse":{"properties":{"attribution":{"type":"string","title":"Attribution"},"reference":{"type":"string","title":"Reference"},"confidence":{"type":"number","title":"Confidence"},"reasoning":{"items":{"type":"string"},"type":"array","title":"Reasoning"}},"type":"object","required":["attribution","reference","confidence","reasoning"],"title":"AttributionSuggestionResponse","description":"Single attribution suggestion."},"AuctionParseRequest":{"properties":{"description":{"type":"string","title":"Description","description":"Auction lot description text"},"hints":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hints","description":"Optional hints"}},"type":"object","required":["description"],"title":"AuctionParseRequest","description":"Request for auction lot parsing."},"AuctionParseResponse":{"properties":{"issuer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"metal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metal"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"},"weight_g":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight G"},"diameter_mm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Diameter Mm"},"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"obverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Description"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"reverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Description"},"references":{"items":{"type":"string"},"type":"array","title":"References"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["issuer","denomination","metal","mint","year_start","year_end","weight_g","diameter_mm","obverse_legend","obverse_description","reverse_legend","reverse_description","references","grade","confidence","cost_usd"],"title":"AuctionParseResponse","description":"Response from auction parsing."},"AuditResultResponse":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"has_issues":{"type":"boolean","title":"Has Issues"},"discrepancies":{"items":{"$ref":"#/components/schemas/DiscrepancyResponse"},"type":"array","title":"Discrepancies"}},"type":"object","required":["coin_id","has_issues","discrepancies"],"title":"AuditResultResponse"},"BulkEnrichRequest":{"properties":{"coin_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Coin Ids"},"missing_fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Missing Fields"},"reference_system":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference System"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"dry_run":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Dry Run","default":true},"max_coins":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Coins","default":50}},"type":"object","title":"BulkEnrichRequest","description":"Request body for bulk catalog enrichment. Matches frontend useCatalog.bulkEnrich."},"BulkEnrichResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"total_coins":{"type":"integer","title":"Total Coins"},"status":{"type":"string","title":"Status"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["job_id","total_coins","status"],"title":"BulkEnrichResponse","description":"Response after starting bulk enrich. Matches frontend BulkEnrichResponse."},"BulkNormalizeRequest":{"properties":{"coin_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Coin Ids"},"vocab_types":{"items":{"type":"string"},"type":"array","title":"Vocab Types","default":["issuer","mint","denomination"]}},"type":"object","title":"BulkNormalizeRequest","description":"Request model for bulk normalization."},"CatalogCandidate":{"properties":{"external_id":{"type":"string","title":"External Id"},"external_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Url"},"score":{"type":"number","title":"Score"},"confidence":{"type":"number","title":"Confidence"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"match_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Type"}},"type":"object","required":["external_id","score","confidence"],"title":"CatalogCandidate","description":"A candidate match from catalog reconciliation."},"CatalogLookupRequest":{"properties":{"reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference"},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"},"system":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context"}},"type":"object","title":"CatalogLookupRequest"},"CatalogParseRequest":{"properties":{"reference":{"type":"string","title":"Reference","description":"Catalog reference string (e.g., 'RIC II 207')"}},"type":"object","required":["reference"],"title":"CatalogParseRequest","description":"Request for catalog reference parsing."},"CatalogParseResponse":{"properties":{"raw_reference":{"type":"string","title":"Raw Reference"},"catalog_system":{"type":"string","title":"Catalog System"},"volume":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Volume"},"number":{"type":"string","title":"Number"},"issuer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"alternatives":{"items":{"type":"string"},"type":"array","title":"Alternatives"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["raw_reference","catalog_system","volume","number","issuer","mint","alternatives","confidence","cost_usd"],"title":"CatalogParseResponse","description":"Response from catalog parsing."},"CatalogReferenceInput":{"properties":{"catalog":{"type":"string","title":"Catalog"},"number":{"type":"string","title":"Number"},"volume":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Volume"},"suffix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suffix"},"is_primary":{"type":"boolean","title":"Is Primary","default":false},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"raw_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Text"},"variant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"supplement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplement"},"collection":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection"}},"type":"object","required":["catalog","number"],"title":"CatalogReferenceInput","description":"Input for a single catalog reference (create/update)."},"CatalogReferenceResponse":{"properties":{"catalog":{"type":"string","title":"Catalog"},"number":{"type":"string","title":"Number"},"volume":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Volume"},"suffix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suffix"},"raw_text":{"type":"string","title":"Raw Text","default":""},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"},"variant":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Variant"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"supplement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Supplement"},"collection":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection"}},"type":"object","required":["catalog","number"],"title":"CatalogReferenceResponse"},"CatalogReferenceValidation":{"properties":{"reference_text":{"type":"string","title":"Reference Text"},"parsed_catalog":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parsed Catalog"},"parsed_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parsed Number"},"parsed_volume":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parsed Volume"},"validation_status":{"type":"string","title":"Validation Status"},"confidence":{"type":"number","title":"Confidence","default":0.0},"match_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Reason"},"existing_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Existing Reference"},"numismatic_warning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Numismatic Warning"}},"type":"object","required":["reference_text","validation_status"],"title":"CatalogReferenceValidation","description":"Validation result for a suggested catalog reference."},"CatalogResult":{"properties":{"status":{"type":"string","enum":["success","not_found","ambiguous","deferred","error"],"title":"Status"},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id"},"external_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Url"},"confidence":{"type":"number","title":"Confidence","default":0.0},"candidates":{"anyOf":[{"items":{"$ref":"#/components/schemas/CatalogCandidate"},"type":"array"},{"type":"null"}],"title":"Candidates"},"payload":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Payload"},"raw":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Raw"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"source_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Version"},"lookup_timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Lookup Timestamp"}},"type":"object","required":["status"],"title":"CatalogResult","description":"Result from catalog lookup."},"CategoryDistribution":{"properties":{"category":{"type":"string","title":"Category"},"count":{"type":"integer","title":"Count"},"color":{"type":"string","title":"Color"}},"type":"object","required":["category","count","color"],"title":"CategoryDistribution"},"CenteringRequest":{"properties":{"centering":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Centering"},"centering_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Centering Notes"}},"type":"object","title":"CenteringRequest"},"CenteringResponse":{"properties":{"centering":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Centering"},"centering_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Centering Notes"}},"type":"object","title":"CenteringResponse"},"CertificationDistribution":{"properties":{"service":{"type":"string","title":"Service"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["service","count"],"title":"CertificationDistribution"},"ChronologyEnhancementsRequest":{"properties":{"date_period_notation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Period Notation"},"emission_phase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Emission Phase"}},"type":"object","title":"ChronologyEnhancementsRequest"},"ChronologyEnhancementsResponse":{"properties":{"date_period_notation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Period Notation"},"emission_phase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Emission Phase"}},"type":"object","title":"ChronologyEnhancementsResponse"},"CoRulerRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"term_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Term Id"},"portrait_relationship":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portrait Relationship"}},"type":"object","title":"CoRulerRequest"},"CoRulerResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"term_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Term Id"},"portrait_relationship":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portrait Relationship"}},"type":"object","title":"CoRulerResponse"},"CoinIdentifyRequest":{"properties":{"image_b64":{"type":"string","title":"Image B64","description":"Base64-encoded image"},"hints":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hints","description":"Optional hints"}},"type":"object","required":["image_b64"],"title":"CoinIdentifyRequest","description":"Request for coin identification."},"CoinIdentifyResponse":{"properties":{"ruler":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ruler"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"date_range":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Range"},"obverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Description"},"reverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Description"},"suggested_references":{"items":{"type":"string"},"type":"array","title":"Suggested References"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["ruler","denomination","mint","date_range","obverse_description","reverse_description","suggested_references","confidence","cost_usd"],"title":"CoinIdentifyResponse","description":"Response from coin identification."},"CoinPreviewData":{"properties":{"grade_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Service"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"strike_quality":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Strike Quality"},"surface_quality":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Surface Quality"},"certification_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification Number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"images":{"items":{"$ref":"#/components/schemas/ImagePreview"},"type":"array","title":"Images","default":[]},"holder_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Holder Type"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"metal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metal"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"issuing_authority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuing Authority"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"},"weight_g":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Weight G"},"diameter_mm":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Diameter Mm"},"die_axis":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Die Axis"},"acquisition_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Acquisition Price"},"acquisition_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Source"},"acquisition_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Url"},"acquisition_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Date"},"acquisition_currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Currency"},"auction_house":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auction House"},"auction_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auction Date"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"hammer_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Hammer Price"},"total_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Total Price"},"estimate_low":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Estimate Low"},"estimate_high":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Estimate High"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"sale_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Name"},"references":{"items":{"type":"string"},"type":"array","title":"References","default":[]}},"type":"object","title":"CoinPreviewData","description":"All coin fields for preview/edit before import."},"CoinResponse":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"category":{"type":"string","title":"Category"},"metal":{"type":"string","title":"Metal"},"dimensions":{"$ref":"#/components/schemas/DimensionsResponse"},"attribution":{"$ref":"#/components/schemas/AttributionResponse"},"grading":{"$ref":"#/components/schemas/GradingResponse"},"acquisition":{"anyOf":[{"$ref":"#/components/schemas/AcquisitionResponse"},{"type":"null"}]},"images":{"items":{"$ref":"#/components/schemas/ImageResponse"},"type":"array","title":"Images","default":[]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"portrait_subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portrait Subject"},"design":{"anyOf":[{"$ref":"#/components/schemas/DesignResponse"},{"type":"null"}]},"references":{"items":{"$ref":"#/components/schemas/CatalogReferenceResponse"},"type":"array","title":"References","default":[]},"provenance":{"items":{"$ref":"#/components/schemas/ProvenanceEntryResponse"},"type":"array","title":"Provenance","default":[]},"storage_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Location"},"personal_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personal Notes"},"rarity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity"},"rarity_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity Notes"},"historical_significance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Historical Significance"},"llm_enriched_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Llm Enriched At"},"llm_analysis_sections":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Llm Analysis Sections"},"llm_suggested_references":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Llm Suggested References"},"llm_suggested_rarity":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Llm Suggested Rarity"},"llm_suggested_design":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Llm Suggested Design"},"llm_suggested_attribution":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Llm Suggested Attribution"},"issue_status":{"type":"string","title":"Issue Status"},"die_info":{"anyOf":[{"$ref":"#/components/schemas/DieInfoResponse"},{"type":"null"}]},"monograms":{"items":{"$ref":"#/components/schemas/MonogramResponse"},"type":"array","title":"Monograms","default":[]},"secondary_treatments":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Secondary Treatments"},"find_data":{"anyOf":[{"$ref":"#/components/schemas/FindDataResponse"},{"type":"null"}]},"prev_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prev Id"},"next_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Id"},"secondary_authority":{"anyOf":[{"$ref":"#/components/schemas/SecondaryAuthorityResponse"},{"type":"null"}]},"co_ruler":{"anyOf":[{"$ref":"#/components/schemas/CoRulerResponse"},{"type":"null"}]},"moneyer_gens":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Moneyer Gens"},"physical_enhancements":{"anyOf":[{"$ref":"#/components/schemas/PhysicalEnhancementsResponse"},{"type":"null"}]},"secondary_treatments_v3":{"anyOf":[{"$ref":"#/components/schemas/SecondaryTreatmentsV3Response"},{"type":"null"}]},"tooling_repairs":{"anyOf":[{"$ref":"#/components/schemas/ToolingRepairsResponse"},{"type":"null"}]},"centering_info":{"anyOf":[{"$ref":"#/components/schemas/CenteringResponse"},{"type":"null"}]},"die_study":{"anyOf":[{"$ref":"#/components/schemas/DieStudyEnhancementsResponse"},{"type":"null"}]},"grading_tpg":{"anyOf":[{"$ref":"#/components/schemas/GradingTPGEnhancementsResponse"},{"type":"null"}]},"chronology":{"anyOf":[{"$ref":"#/components/schemas/ChronologyEnhancementsResponse"},{"type":"null"}]}},"type":"object","required":["id","category","metal","dimensions","attribution","grading","issue_status"],"title":"CoinResponse"},"CoinSummary":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"thumbnail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail"},"source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Id"},"source_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Type"},"match_reason":{"type":"string","title":"Match Reason"},"match_confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Match Confidence"},"issuing_authority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuing Authority"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"metal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metal"},"weight_g":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Weight G"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"}},"type":"object","required":["id","title","match_reason"],"title":"CoinSummary","description":"Summary of a coin for duplicate detection display."},"ConditionObserveRequest":{"properties":{"image_b64":{"type":"string","title":"Image B64","description":"Base64-encoded coin image"},"hints":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hints","description":"Optional hints"}},"type":"object","required":["image_b64"],"title":"ConditionObserveRequest","description":"Request for condition observations."},"ConditionObserveResponse":{"properties":{"wear_observations":{"type":"string","title":"Wear Observations"},"surface_notes":{"type":"string","title":"Surface Notes"},"strike_quality":{"type":"string","title":"Strike Quality"},"notable_features":{"items":{"type":"string"},"type":"array","title":"Notable Features"},"concerns":{"items":{"type":"string"},"type":"array","title":"Concerns"},"recommendation":{"type":"string","title":"Recommendation"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["wear_observations","surface_notes","strike_quality","notable_features","concerns","recommendation","confidence","cost_usd"],"title":"ConditionObserveResponse","description":"Response from condition observations (NOT grades)."},"ContextGenerateRequest":{"properties":{"coin_id":{"type":"integer","title":"Coin Id","description":"Coin ID - will fetch full data from DB"}},"type":"object","required":["coin_id"],"title":"ContextGenerateRequest","description":"Request for historical context generation."},"ContextGenerateResponse":{"properties":{"sections":{"items":{"$ref":"#/components/schemas/ContextSectionResponse"},"type":"array","title":"Sections"},"raw_content":{"type":"string","title":"Raw Content"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"},"model_used":{"type":"string","title":"Model Used"},"existing_references":{"items":{"type":"string"},"type":"array","title":"Existing References","default":[]},"all_llm_citations":{"items":{"type":"string"},"type":"array","title":"All Llm Citations","default":[]},"suggested_references":{"items":{"type":"string"},"type":"array","title":"Suggested References","default":[]},"matched_references":{"items":{"type":"string"},"type":"array","title":"Matched References","default":[]},"rarity_info":{"anyOf":[{"$ref":"#/components/schemas/RarityInfoResponse"},{"type":"null"}]}},"type":"object","required":["sections","raw_content","confidence","cost_usd","model_used"],"title":"ContextGenerateResponse","description":"Response from comprehensive context generation."},"ContextSectionResponse":{"properties":{"key":{"type":"string","title":"Key"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"}},"type":"object","required":["key","title","content"],"title":"ContextSectionResponse","description":"Individual analysis section."},"CostReportResponse":{"properties":{"period_days":{"type":"integer","title":"Period Days"},"total_cost_usd":{"type":"number","title":"Total Cost Usd"},"by_capability":{"additionalProperties":{"type":"number"},"type":"object","title":"By Capability"},"by_model":{"additionalProperties":{"type":"number"},"type":"object","title":"By Model"}},"type":"object","required":["period_days","total_cost_usd","by_capability","by_model"],"title":"CostReportResponse","description":"Cost and usage report."},"CreateCoinRequest":{"properties":{"category":{"type":"string","title":"Category"},"metal":{"type":"string","title":"Metal"},"weight_g":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Weight G"},"diameter_mm":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Diameter Mm"},"issuer":{"type":"string","title":"Issuer"},"grading_state":{"type":"string","title":"Grading State"},"grade":{"type":"string","title":"Grade"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"},"die_axis":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Die Axis"},"grade_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Service"},"certification":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification"},"strike":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strike"},"surface":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surface"},"acquisition_price":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Acquisition Price"},"acquisition_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Source"},"acquisition_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Acquisition Date"},"acquisition_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Acquisition Url"},"images":{"items":{"$ref":"#/components/schemas/ImageRequest"},"type":"array","title":"Images","default":[]},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"portrait_subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portrait Subject"},"design":{"anyOf":[{"$ref":"#/components/schemas/DesignRequest"},{"type":"null"}]},"storage_location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Location"},"personal_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personal Notes"},"rarity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity"},"rarity_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity Notes"},"specific_gravity":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Specific Gravity"},"issue_status":{"type":"string","title":"Issue Status","default":"official"},"obverse_die_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Die Id"},"reverse_die_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Die Id"},"find_spot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Find Spot"},"find_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Find Date"},"references":{"anyOf":[{"items":{"$ref":"#/components/schemas/CatalogReferenceInput"},"type":"array"},{"type":"null"}],"title":"References"},"provenance":{"anyOf":[{"items":{"$ref":"#/components/schemas/ProvenanceEntryRequest"},"type":"array"},{"type":"null"}],"title":"Provenance"},"secondary_authority":{"anyOf":[{"$ref":"#/components/schemas/SecondaryAuthorityRequest"},{"type":"null"}]},"co_ruler":{"anyOf":[{"$ref":"#/components/schemas/CoRulerRequest"},{"type":"null"}]},"moneyer_gens":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Moneyer Gens"},"physical_enhancements":{"anyOf":[{"$ref":"#/components/schemas/PhysicalEnhancementsRequest"},{"type":"null"}]},"secondary_treatments_v3":{"anyOf":[{"$ref":"#/components/schemas/SecondaryTreatmentsV3Request"},{"type":"null"}]},"tooling_repairs":{"anyOf":[{"$ref":"#/components/schemas/ToolingRepairsRequest"},{"type":"null"}]},"centering_info":{"anyOf":[{"$ref":"#/components/schemas/CenteringRequest"},{"type":"null"}]},"die_study":{"anyOf":[{"$ref":"#/components/schemas/DieStudyEnhancementsRequest"},{"type":"null"}]},"grading_tpg":{"anyOf":[{"$ref":"#/components/schemas/GradingTPGEnhancementsRequest"},{"type":"null"}]},"chronology":{"anyOf":[{"$ref":"#/components/schemas/ChronologyEnhancementsRequest"},{"type":"null"}]}},"type":"object","required":["category","metal","diameter_mm","issuer","grading_state","grade"],"title":"CreateCoinRequest"},"DesignRequest":{"properties":{"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"obverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Description"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"reverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Description"},"exergue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exergue"}},"type":"object","title":"DesignRequest"},"DesignResponse":{"properties":{"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"obverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Description"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"reverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Description"},"exergue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exergue"}},"type":"object","title":"DesignResponse"},"DieGroupCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Group name"},"die_side":{"type":"string","title":"Die Side","description":"obverse or reverse"},"issuer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Issuer Id","description":"Issuer ID for filtering"},"mint_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Mint Id","description":"Mint ID for filtering"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Description"}},"type":"object","required":["name","die_side"],"title":"DieGroupCreate","description":"Request to create a die study group."},"DieGroupMemberAdd":{"properties":{"coin_id":{"type":"integer","title":"Coin Id","description":"Coin ID to add"},"sequence_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sequence Position","description":"Estimated strike order"}},"type":"object","required":["coin_id"],"title":"DieGroupMemberAdd","description":"Request to add a member to a die group."},"DieGroupMemberResponse":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"sequence_position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sequence Position"}},"type":"object","required":["coin_id","sequence_position"],"title":"DieGroupMemberResponse","description":"Response for a die group member."},"DieGroupResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"die_side":{"type":"string","title":"Die Side"},"issuer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Issuer Id"},"mint_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Mint Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"member_count":{"type":"integer","title":"Member Count"},"members":{"items":{"$ref":"#/components/schemas/DieGroupMemberResponse"},"type":"array","title":"Members"}},"type":"object","required":["id","name","die_side","issuer_id","mint_id","notes","created_at","member_count","members"],"title":"DieGroupResponse","description":"Response for a die study group."},"DieGroupUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"DieGroupUpdate","description":"Request to update a die study group."},"DieInfoResponse":{"properties":{"obverse_die_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Die Id"},"reverse_die_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Die Id"}},"type":"object","title":"DieInfoResponse"},"DieLinkCreate":{"properties":{"coin_a_id":{"type":"integer","title":"Coin A Id","description":"First coin ID"},"coin_b_id":{"type":"integer","title":"Coin B Id","description":"Second coin ID"},"die_side":{"type":"string","title":"Die Side","description":"obverse or reverse"},"confidence":{"type":"string","title":"Confidence","description":"certain, probable, possible, uncertain","default":"possible"},"source":{"type":"string","title":"Source","description":"manual, llm, reference, import","default":"manual"},"reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference","description":"Published reference"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes"}},"type":"object","required":["coin_a_id","coin_b_id","die_side"],"title":"DieLinkCreate","description":"Request to create a die link."},"DieLinkResponse":{"properties":{"id":{"type":"integer","title":"Id"},"coin_a_id":{"type":"integer","title":"Coin A Id"},"coin_b_id":{"type":"integer","title":"Coin B Id"},"die_side":{"type":"string","title":"Die Side"},"confidence":{"type":"string","title":"Confidence"},"source":{"type":"string","title":"Source"},"reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"identified_at":{"type":"string","format":"date-time","title":"Identified At"}},"type":"object","required":["id","coin_a_id","coin_b_id","die_side","confidence","source","reference","notes","identified_at"],"title":"DieLinkResponse","description":"Response for a die link."},"DieLinkUpdate":{"properties":{"confidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Confidence"},"reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"DieLinkUpdate","description":"Request to update a die link."},"DieStudyEnhancementsRequest":{"properties":{"obverse_die_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Die State"},"reverse_die_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Die State"},"die_break_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Die Break Description"}},"type":"object","title":"DieStudyEnhancementsRequest"},"DieStudyEnhancementsResponse":{"properties":{"obverse_die_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Die State"},"reverse_die_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Die State"},"die_break_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Die Break Description"}},"type":"object","title":"DieStudyEnhancementsResponse"},"DimensionsResponse":{"properties":{"weight_g":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Weight G"},"diameter_mm":{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$","title":"Diameter Mm"},"die_axis":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Die Axis"},"specific_gravity":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Specific Gravity"}},"type":"object","required":["diameter_mm"],"title":"DimensionsResponse"},"DiscrepancyResponse":{"properties":{"field":{"type":"string","title":"Field"},"current_value":{"type":"string","title":"Current Value"},"auction_value":{"type":"string","title":"Auction Value"},"confidence":{"type":"number","title":"Confidence"},"source":{"type":"string","title":"Source"}},"type":"object","required":["field","current_value","auction_value","confidence","source"],"title":"DiscrepancyResponse"},"EnrichPreviewRequest":{"properties":{"references":{"items":{"type":"string"},"type":"array","title":"References","description":"Reference strings to look up (e.g. RIC I 207)"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"Optional context (ruler, mint, denomination)"}},"type":"object","title":"EnrichPreviewRequest","description":"Request for catalog enrichment preview. Matches frontend useEnrichPreview."},"EnrichPreviewResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"suggestions":{"additionalProperties":true,"type":"object","title":"Suggestions","description":"Field -> {field, value, source, confidence}"},"lookup_results":{"items":{},"type":"array","title":"Lookup Results","description":"Per-reference lookup status"}},"type":"object","title":"EnrichPreviewResponse","description":"Response for enrich-preview. Matches frontend ImportPreviewResponse subset (suggestions, lookup_results)."},"EnrichRequest":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},"type":"object","required":["coin_id"],"title":"EnrichRequest"},"EnrichmentApplyBody":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"field_name":{"type":"string","title":"Field Name"},"value":{"type":"string","title":"Value"}},"type":"object","required":["coin_id","field_name","value"],"title":"EnrichmentApplyBody"},"EnrichmentBulkApplyBody":{"properties":{"applications":{"items":{"$ref":"#/components/schemas/EnrichmentApplyBody"},"type":"array","title":"Applications"}},"type":"object","required":["applications"],"title":"EnrichmentBulkApplyBody"},"EnrichmentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"coin_id":{"type":"integer","title":"Coin Id"},"auction_data_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Auction Data Id"},"audit_run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Audit Run Id"},"field_name":{"type":"string","title":"Field Name"},"suggested_value":{"type":"string","title":"Suggested Value"},"source_house":{"type":"string","title":"Source House"},"trust_level":{"type":"string","title":"Trust Level","default":"medium"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence","default":0.8},"auto_applicable":{"type":"boolean","title":"Auto Applicable","default":true},"status":{"type":"string","title":"Status","default":"pending"},"applied":{"type":"boolean","title":"Applied","default":false},"applied_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Applied At"},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"},"created_at":{"type":"string","title":"Created At"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"auction_images":{"items":{"type":"string"},"type":"array","title":"Auction Images"}},"type":"object","required":["id","coin_id","field_name","suggested_value","source_house","created_at"],"title":"EnrichmentResponse","description":"Single enrichment opportunity - matches frontend Enrichment shape."},"EnrichmentsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/EnrichmentResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["items","total","page","per_page","pages"],"title":"EnrichmentsListResponse"},"FeedbackRequest":{"properties":{"coin_id":{"type":"integer","title":"Coin Id","description":"Coin ID"},"capability":{"type":"string","title":"Capability","description":"Capability name"},"field":{"type":"string","title":"Field","description":"Field name"},"suggested_value":{"title":"Suggested Value","description":"The LLM's suggestion"},"action":{"type":"string","title":"Action","description":"'accepted', 'rejected', or 'modified'"},"user_value":{"anyOf":[{},{"type":"null"}],"title":"User Value","description":"User's value if modified/rejected"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason","description":"Optional rejection reason"},"confidence":{"type":"number","title":"Confidence","description":"Original confidence","default":0.0},"model_used":{"type":"string","title":"Model Used","description":"Model that made suggestion","default":""}},"type":"object","required":["coin_id","capability","field","suggested_value","action"],"title":"FeedbackRequest","description":"Request for submitting accuracy feedback."},"FilterContext":{"properties":{"applied_filters":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Applied Filters"},"filtered_count":{"type":"integer","title":"Filtered Count"},"filtered_value_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Filtered Value Usd"}},"type":"object","required":["applied_filters","filtered_count"],"title":"FilterContext"},"FindDataResponse":{"properties":{"find_spot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Find Spot"},"find_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Find Date"}},"type":"object","title":"FindDataResponse"},"GradeDistribution":{"properties":{"grade":{"type":"string","title":"Grade"},"count":{"type":"integer","title":"Count"},"numeric":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Numeric"}},"type":"object","required":["grade","count"],"title":"GradeDistribution"},"GradingHistoryCreateRequest":{"properties":{"grading_state":{"type":"string","title":"Grading State","description":"Grading state: raw, slabbed, capsule, flip"},"event_type":{"type":"string","title":"Event Type","description":"Event type: initial, crossover, regrade, crack_out","default":"initial"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade","description":"Grade (e.g., Ch XF, MS 63)"},"grade_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Service","description":"Grading service: ngc, pcgs, icg, anacs"},"certification_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification Number","description":"TPG certification number"},"strike_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strike Quality","description":"Strike quality (1-5 scale)"},"surface_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surface Quality","description":"Surface quality (1-5 scale)"},"grade_numeric":{"anyOf":[{"type":"integer","maximum":70.0,"minimum":1.0},{"type":"null"}],"title":"Grade Numeric","description":"Numeric grade (1-70)"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation","description":"Designation: Fine Style, Choice, Gem, etc."},"has_star":{"type":"boolean","title":"Has Star","description":"NGC star designation","default":false},"photo_cert":{"type":"boolean","title":"Photo Cert","description":"Photo certificate","default":false},"verification_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Url","description":"NGC/PCGS verification URL"},"graded_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Graded Date","description":"Date grading occurred"},"submitter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitter","description":"Who submitted for grading"},"turnaround_days":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Turnaround Days","description":"Days from submission to receipt"},"grading_fee":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Grading Fee","description":"Cost of grading service"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes"},"sequence_order":{"type":"integer","minimum":0.0,"title":"Sequence Order","description":"Order in timeline","default":0},"is_current":{"type":"boolean","title":"Is Current","description":"Is this the current grading state?","default":false}},"type":"object","required":["grading_state"],"title":"GradingHistoryCreateRequest","description":"Request to create a grading history entry."},"GradingHistoryListResponse":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"entries":{"items":{"$ref":"#/components/schemas/GradingHistoryResponse"},"type":"array","title":"Entries"},"total":{"type":"integer","title":"Total"},"has_current":{"type":"boolean","title":"Has Current","default":false},"current_entry_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Entry Id"}},"type":"object","required":["coin_id","entries","total"],"title":"GradingHistoryListResponse","description":"Response for listing grading history entries."},"GradingHistoryResponse":{"properties":{"id":{"type":"integer","title":"Id"},"coin_id":{"type":"integer","title":"Coin Id"},"grading_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grading State"},"event_type":{"type":"string","title":"Event Type"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"grade_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Service"},"certification_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification Number"},"strike_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strike Quality"},"surface_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surface Quality"},"grade_numeric":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Grade Numeric"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation"},"has_star":{"type":"boolean","title":"Has Star","default":false},"photo_cert":{"type":"boolean","title":"Photo Cert","default":false},"verification_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Url"},"graded_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Graded Date"},"recorded_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recorded At"},"submitter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitter"},"turnaround_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Turnaround Days"},"grading_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Grading Fee"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"sequence_order":{"type":"integer","title":"Sequence Order","default":0},"is_current":{"type":"boolean","title":"Is Current","default":false}},"type":"object","required":["id","coin_id","event_type"],"title":"GradingHistoryResponse","description":"Response for a grading history entry."},"GradingHistoryUpdateRequest":{"properties":{"grading_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grading State"},"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"},"grade_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Service"},"certification_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification Number"},"strike_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strike Quality"},"surface_quality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surface Quality"},"grade_numeric":{"anyOf":[{"type":"integer","maximum":70.0,"minimum":1.0},{"type":"null"}],"title":"Grade Numeric"},"designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Designation"},"has_star":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Star"},"photo_cert":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Photo Cert"},"verification_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Url"},"graded_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Graded Date"},"submitter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitter"},"turnaround_days":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Turnaround Days"},"grading_fee":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Grading Fee"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"sequence_order":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Sequence Order"},"is_current":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Current"}},"type":"object","title":"GradingHistoryUpdateRequest","description":"Request to update a grading history entry (all fields optional)."},"GradingResponse":{"properties":{"grading_state":{"type":"string","title":"Grading State"},"grade":{"type":"string","title":"Grade"},"service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service"},"certification_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certification Number"},"strike":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strike"},"surface":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Surface"}},"type":"object","required":["grading_state","grade"],"title":"GradingResponse"},"GradingTPGEnhancementsRequest":{"properties":{"grade_numeric":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Grade Numeric"},"grade_designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Designation"},"has_star_designation":{"type":"boolean","title":"Has Star Designation","default":false},"photo_certificate":{"type":"boolean","title":"Photo Certificate","default":false},"verification_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Url"}},"type":"object","title":"GradingTPGEnhancementsRequest"},"GradingTPGEnhancementsResponse":{"properties":{"grade_numeric":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Grade Numeric"},"grade_designation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Designation"},"has_star_designation":{"type":"boolean","title":"Has Star Designation","default":false},"photo_certificate":{"type":"boolean","title":"Photo Certificate","default":false},"verification_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Url"}},"type":"object","title":"GradingTPGEnhancementsResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthMetrics":{"properties":{"overall_pct":{"type":"integer","title":"Overall Pct"},"total_coins":{"type":"integer","title":"Total Coins"},"with_images":{"type":"integer","title":"With Images"},"with_attribution":{"type":"integer","title":"With Attribution"},"with_references":{"type":"integer","title":"With References"},"with_provenance":{"type":"integer","title":"With Provenance"},"with_values":{"type":"integer","title":"With Values"}},"type":"object","required":["overall_pct","total_coins","with_images","with_attribution","with_references","with_provenance","with_values"],"title":"HealthMetrics"},"ImagePreview":{"properties":{"url":{"type":"string","title":"Url"},"source":{"type":"string","title":"Source","default":"ngc_photovision"},"image_type":{"type":"string","title":"Image Type","default":"combined"},"is_primary":{"type":"boolean","title":"Is Primary","default":false},"thumbnail_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thumbnail Url"},"local_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Path"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"}},"type":"object","required":["url"],"title":"ImagePreview","description":"Preview data for a coin image."},"ImageRequest":{"properties":{"url":{"type":"string","title":"Url"},"image_type":{"type":"string","title":"Image Type"},"is_primary":{"type":"boolean","title":"Is Primary","default":false}},"type":"object","required":["url","image_type"],"title":"ImageRequest"},"ImageResponse":{"properties":{"url":{"type":"string","title":"Url"},"image_type":{"type":"string","title":"Image Type"},"is_primary":{"type":"boolean","title":"Is Primary"}},"type":"object","required":["url","image_type","is_primary"],"title":"ImageResponse"},"ImportConfirmRequest":{"properties":{"coin_data":{"additionalProperties":true,"type":"object","title":"Coin Data","description":"Coin data to import"},"source_type":{"type":"string","title":"Source Type","description":"Source type (ngc, ebay, heritage, etc.)"},"source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Id","description":"Source identifier"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url","description":"Source URL"},"raw_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Raw Data","description":"Raw scraped data"},"track_price_history":{"type":"boolean","title":"Track Price History","description":"Track price history","default":false},"sold_price_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Sold Price Usd","description":"Sold price in USD"},"auction_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auction Date","description":"Auction date"},"auction_house":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auction House","description":"Auction house"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number","description":"Lot number"},"merge_with_coin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Merge With Coin Id","description":"Merge with existing coin ID"}},"type":"object","required":["coin_data","source_type"],"title":"ImportConfirmRequest","description":"Request to confirm and save imported coin."},"ImportConfirmResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"coin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Coin Id"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"merged":{"type":"boolean","title":"Merged","default":false}},"type":"object","required":["success"],"title":"ImportConfirmResponse","description":"Response after confirming import."},"ImportPreviewResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"retry_after":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry After"},"manual_entry_suggested":{"type":"boolean","title":"Manual Entry Suggested","default":false},"source_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Type"},"source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Id"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"coin_data":{"anyOf":[{"$ref":"#/components/schemas/CoinPreviewData"},{"type":"null"}]},"field_confidence":{"additionalProperties":{"type":"string"},"type":"object","title":"Field Confidence","default":{}},"similar_coins":{"items":{"$ref":"#/components/schemas/CoinSummary"},"type":"array","title":"Similar Coins","default":[]},"detected_references":{"items":{"type":"string"},"type":"array","title":"Detected References","default":[]},"enrichment_available":{"type":"boolean","title":"Enrichment Available","default":false},"raw_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Raw Data"}},"type":"object","required":["success"],"title":"ImportPreviewResponse","description":"Response for import preview (NGC, URL, etc.)."},"JobStatusResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","title":"Status"},"progress":{"type":"integer","title":"Progress"},"total":{"type":"integer","title":"Total"},"updated":{"type":"integer","title":"Updated"},"conflicts":{"type":"integer","title":"Conflicts"},"not_found":{"type":"integer","title":"Not Found"},"errors":{"type":"integer","title":"Errors"},"results":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Results"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["job_id","status","progress","total","updated","conflicts","not_found","errors"],"title":"JobStatusResponse","description":"Job status for polling. Matches frontend JobStatus."},"LLMReviewQueueResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LLMSuggestionItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"LLMReviewQueueResponse","description":"Response for LLM review queue."},"LLMSuggestionItem":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"issuer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"existing_references":{"items":{"type":"string"},"type":"array","title":"Existing References"},"suggested_references":{"items":{"type":"string"},"type":"array","title":"Suggested References"},"validated_references":{"items":{"$ref":"#/components/schemas/CatalogReferenceValidation"},"type":"array","title":"Validated References"},"rarity_info":{"anyOf":[{"$ref":"#/components/schemas/RarityInfoResponse"},{"type":"null"}]},"suggested_design":{"anyOf":[{"$ref":"#/components/schemas/LlmSuggestedDesign"},{"type":"null"}]},"suggested_attribution":{"anyOf":[{"$ref":"#/components/schemas/LlmSuggestedAttribution"},{"type":"null"}]},"enriched_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enriched At"}},"type":"object","required":["coin_id"],"title":"LLMSuggestionItem","description":"Item in the LLM suggestions review queue."},"LegacyIssuerResponse":{"properties":{"id":{"type":"integer","title":"Id"},"canonical_name":{"type":"string","title":"Canonical Name"},"nomisma_id":{"type":"string","title":"Nomisma Id"},"issuer_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer Type"},"reign_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reign Start"},"reign_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reign End"}},"type":"object","required":["id","canonical_name","nomisma_id","issuer_type","reign_start","reign_end"],"title":"LegacyIssuerResponse"},"LegacyListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LegacyIssuerResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"}},"type":"object","required":["items","total","page","per_page"],"title":"LegacyListResponse"},"LegacyNormalizationResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"canonical_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Canonical Id"},"canonical_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Canonical Name"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method"},"confidence":{"type":"number","title":"Confidence"},"needs_review":{"type":"boolean","title":"Needs Review"}},"type":"object","required":["success","canonical_id","canonical_name","method","confidence","needs_review"],"title":"LegacyNormalizationResponse"},"LegacySyncResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","message"],"title":"LegacySyncResponse"},"LegendExpandRequest":{"properties":{"abbreviation":{"type":"string","title":"Abbreviation","description":"Abbreviated Latin legend"}},"type":"object","required":["abbreviation"],"title":"LegendExpandRequest","description":"Request for legend expansion."},"LegendExpandResponse":{"properties":{"expanded":{"type":"string","title":"Expanded"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"},"model_used":{"type":"string","title":"Model Used"},"cached":{"type":"boolean","title":"Cached"}},"type":"object","required":["expanded","confidence","cost_usd","model_used","cached"],"title":"LegendExpandResponse","description":"Response from legend expansion."},"LegendTranscribeRequest":{"properties":{"image_b64":{"type":"string","title":"Image B64","description":"Base64-encoded coin image"},"hints":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hints","description":"Optional hints"}},"type":"object","required":["image_b64"],"title":"LegendTranscribeRequest","description":"Request for legend transcription."},"LegendTranscribeResponse":{"properties":{"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"obverse_legend_expanded":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend Expanded"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"reverse_legend_expanded":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend Expanded"},"exergue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exergue"},"uncertain_portions":{"items":{"type":"string"},"type":"array","title":"Uncertain Portions"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["obverse_legend","obverse_legend_expanded","reverse_legend","reverse_legend_expanded","exergue","uncertain_portions","confidence","cost_usd"],"title":"LegendTranscribeResponse","description":"Response from legend transcription."},"LlmSuggestedAttribution":{"properties":{"issuer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer"},"mint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mint"},"denomination":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Denomination"},"year_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year Start"},"year_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year End"}},"type":"object","title":"LlmSuggestedAttribution","description":"LLM-suggested attribution (issuer, mint, denomination, dates)."},"LlmSuggestedDesign":{"properties":{"obverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend"},"reverse_legend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend"},"exergue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exergue"},"obverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Description"},"reverse_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Description"},"obverse_legend_expanded":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Obverse Legend Expanded"},"reverse_legend_expanded":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reverse Legend Expanded"}},"type":"object","title":"LlmSuggestedDesign","description":"LLM-suggested design fields (legends, exergue, descriptions)."},"MembershipResponse":{"properties":{"id":{"type":"integer","title":"Id"},"series_id":{"type":"integer","title":"Series Id"},"coin_id":{"type":"integer","title":"Coin Id"},"slot_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Slot Id"}},"type":"object","required":["id","series_id","coin_id","slot_id"],"title":"MembershipResponse"},"MetalDistribution":{"properties":{"metal":{"type":"string","title":"Metal"},"symbol":{"type":"string","title":"Symbol"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["metal","symbol","count"],"title":"MetalDistribution"},"MetricsSummaryResponse":{"properties":{"period_hours":{"type":"integer","title":"Period Hours"},"total_calls":{"type":"integer","title":"Total Calls"},"successful_calls":{"type":"integer","title":"Successful Calls"},"failed_calls":{"type":"integer","title":"Failed Calls"},"cached_calls":{"type":"integer","title":"Cached Calls"},"total_cost_usd":{"type":"number","title":"Total Cost Usd"},"avg_latency_ms":{"type":"number","title":"Avg Latency Ms"},"cache_hit_rate":{"type":"number","title":"Cache Hit Rate"},"success_rate":{"type":"number","title":"Success Rate"},"calls_by_capability":{"additionalProperties":{"type":"integer"},"type":"object","title":"Calls By Capability"},"errors_by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"Errors By Type"}},"type":"object","required":["period_hours","total_calls","successful_calls","failed_calls","cached_calls","total_cost_usd","avg_latency_ms","cache_hit_rate","success_rate","calls_by_capability","errors_by_type"],"title":"MetricsSummaryResponse","description":"Metrics summary."},"MonogramResponse":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"label":{"type":"string","title":"Label"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"vector_data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vector Data"}},"type":"object","required":["id","label"],"title":"MonogramResponse"},"NGCImportRequest":{"properties":{"cert_number":{"type":"string","title":"Cert Number","description":"NGC certification number (7-10 digits)"}},"type":"object","required":["cert_number"],"title":"NGCImportRequest","description":"Request to import from NGC certificate."},"NormalizeRequest":{"properties":{"raw":{"type":"string","minLength":1,"title":"Raw","description":"Raw text to normalize"},"vocab_type":{"type":"string","title":"Vocab Type","description":"Vocabulary type (issuer, mint, denomination, dynasty)"},"context":{"additionalProperties":true,"type":"object","title":"Context","description":"Additional context"}},"type":"object","required":["raw","vocab_type"],"title":"NormalizeRequest","description":"Request model for normalization."},"NormalizeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"term":{"anyOf":[{"$ref":"#/components/schemas/VocabTermResponse"},{"type":"null"}]},"method":{"type":"string","title":"Method","default":""},"confidence":{"type":"number","title":"Confidence","default":0.0},"needs_review":{"type":"boolean","title":"Needs Review","default":false},"alternatives":{"items":{"$ref":"#/components/schemas/VocabTermResponse"},"type":"array","title":"Alternatives"}},"type":"object","required":["success"],"title":"NormalizeResponse","description":"Response model for normalization result."},"PaginatedResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CoinResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["items","total","page","per_page","pages"],"title":"PaginatedResponse"},"ParseCatalogRequest":{"properties":{"raw":{"type":"string","title":"Raw"}},"type":"object","required":["raw"],"title":"ParseCatalogRequest"},"ParseCatalogResponse":{"properties":{"ref":{"anyOf":[{"$ref":"#/components/schemas/CatalogReferenceResponse"},{"type":"null"}]},"confidence":{"type":"number","title":"Confidence","default":0.0},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings","default":[]},"alternatives":{"items":{"$ref":"#/components/schemas/CatalogReferenceResponse"},"type":"array","title":"Alternatives","default":[]}},"type":"object","title":"ParseCatalogResponse"},"PhysicalEnhancementsRequest":{"properties":{"weight_standard":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Weight Standard"},"expected_weight_g":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Expected Weight G"},"flan_shape":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Shape"},"flan_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Type"},"flan_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Notes"}},"type":"object","title":"PhysicalEnhancementsRequest"},"PhysicalEnhancementsResponse":{"properties":{"weight_standard":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Weight Standard"},"expected_weight_g":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Expected Weight G"},"flan_shape":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Shape"},"flan_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Type"},"flan_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flan Notes"}},"type":"object","title":"PhysicalEnhancementsResponse"},"ProvenanceChainResponse":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"entries":{"items":{"$ref":"#/components/schemas/src__infrastructure__web__routers__provenance__ProvenanceEntryResponse"},"type":"array","title":"Entries"},"earliest_known_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Earliest Known Year","description":"Year of earliest known provenance"},"has_acquisition":{"type":"boolean","title":"Has Acquisition","description":"Whether coin has current ownership entry","default":false},"total_entries":{"type":"integer","title":"Total Entries","default":0}},"type":"object","required":["coin_id","entries"],"title":"ProvenanceChainResponse","description":"Response for a coin's full pedigree timeline."},"ProvenanceEntryCreate":{"properties":{"event_type":{"type":"string","title":"Event Type","description":"Type: auction, dealer, collection, private_sale, publication, hoard_find, estate, acquisition"},"source_name":{"type":"string","title":"Source Name","description":"Name of auction house, dealer, collection, etc."},"event_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Event Date","description":"Exact date of the event"},"date_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date String","description":"Flexible date string (e.g. '1920s', 'circa 1840')"},"sale_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Name","description":"Sale name (e.g. 'January 2024 NYINC')"},"sale_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Number","description":"Auction catalog number"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number","description":"Lot number if auction"},"catalog_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Catalog Reference","description":"Full catalog reference"},"hammer_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Hammer Price","description":"Hammer price"},"buyers_premium_pct":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Buyers Premium Pct","description":"Buyer's premium %"},"total_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Total Price","description":"Total price including premium"},"currency":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Currency","description":"Currency code (USD, EUR, GBP)"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"URL to source documentation"},"receipt_available":{"type":"boolean","title":"Receipt Available","description":"Is receipt available?","default":false},"sort_order":{"type":"integer","title":"Sort Order","description":"Display order (0 = earliest, 999 = acquisition)","default":0}},"type":"object","required":["event_type","source_name"],"title":"ProvenanceEntryCreate","description":"Request to create a provenance entry."},"ProvenanceEntryRequest":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"event_type":{"type":"string","title":"Event Type"},"source_name":{"type":"string","title":"Source Name"},"event_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Event Date"},"date_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date String"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"hammer_price":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Hammer Price"},"total_price":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Total Price"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"sort_order":{"type":"integer","title":"Sort Order","default":0}},"type":"object","required":["event_type","source_name"],"title":"ProvenanceEntryRequest","description":"Request to create/update a provenance entry nested in coin update."},"ProvenanceEntryResponse":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"event_type":{"type":"string","title":"Event Type"},"source_name":{"type":"string","title":"Source Name"},"event_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Event Date"},"date_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date String"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"raw_text":{"type":"string","title":"Raw Text","default":""},"hammer_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Hammer Price"},"total_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Total Price"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"sort_order":{"type":"integer","title":"Sort Order","default":0}},"type":"object","required":["event_type","source_name"],"title":"ProvenanceEntryResponse"},"ProvenanceEntryUpdate":{"properties":{"event_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"},"source_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Name"},"event_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Event Date"},"date_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date String"},"sale_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Name"},"sale_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Number"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"catalog_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Catalog Reference"},"hammer_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Hammer Price"},"buyers_premium_pct":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Buyers Premium Pct"},"total_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Total Price"},"currency":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Currency"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"receipt_available":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Receipt Available"},"sort_order":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sort Order"}},"type":"object","title":"ProvenanceEntryUpdate","description":"Request to update a provenance entry (all fields optional)."},"ProvenanceParseRequest":{"properties":{"description":{"type":"string","title":"Description","description":"Text containing provenance"}},"type":"object","required":["description"],"title":"ProvenanceParseRequest","description":"Request for provenance parsing."},"ProvenanceParseResponse":{"properties":{"provenance_chain":{"items":{"$ref":"#/components/schemas/src__infrastructure__web__routers__llm__ProvenanceEntryResponse"},"type":"array","title":"Provenance Chain"},"earliest_known":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Earliest Known"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["provenance_chain","earliest_known","confidence","cost_usd"],"title":"ProvenanceParseResponse","description":"Response from provenance parsing."},"ProviderKeysStatus":{"properties":{"anthropic":{"type":"boolean","title":"Anthropic","default":false},"openrouter":{"type":"boolean","title":"Openrouter","default":false},"google":{"type":"boolean","title":"Google","default":false}},"type":"object","title":"ProviderKeysStatus","description":"Which provider API keys are set (presence only; values never exposed)."},"RarityAssessmentCreateRequest":{"properties":{"rarity_code":{"type":"string","title":"Rarity Code","description":"Rarity code: C, S, R1-R5, RR, RRR, UNIQUE"},"rarity_system":{"type":"string","title":"Rarity System","description":"Rating system: ric, catalog, census, market_frequency","default":"ric"},"source_type":{"type":"string","title":"Source Type","description":"Source type: catalog, census_data, auction_analysis, expert_opinion","default":"catalog"},"source_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Name","description":"Source name (e.g., RIC II.1, NGC Census)"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url","description":"URL to source"},"source_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Source Date","description":"When data was retrieved/published"},"grade_range_low":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range Low","description":"Applies to grades >= this"},"grade_range_high":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range High","description":"Applies to grades <= this"},"grade_conditional_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Conditional Notes","description":"Grade-conditional notes (e.g., R3 in XF+, R5 in MS)"},"census_total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census Total","description":"Total graded by service"},"census_this_grade":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census This Grade","description":"Graded at this specific grade"},"census_finer":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census Finer","description":"Graded higher than this grade"},"census_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Census Date","description":"When census was captured"},"confidence":{"type":"string","title":"Confidence","description":"Confidence level: high, medium, low","default":"medium"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Additional notes"},"is_primary":{"type":"boolean","title":"Is Primary","description":"Is this the primary assessment?","default":false}},"type":"object","required":["rarity_code"],"title":"RarityAssessmentCreateRequest","description":"Request to create a rarity assessment."},"RarityAssessmentListResponse":{"properties":{"coin_id":{"type":"integer","title":"Coin Id"},"assessments":{"items":{"$ref":"#/components/schemas/RarityAssessmentResponse"},"type":"array","title":"Assessments"},"total":{"type":"integer","title":"Total"},"has_primary":{"type":"boolean","title":"Has Primary","default":false},"primary_assessment_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Primary Assessment Id"}},"type":"object","required":["coin_id","assessments","total"],"title":"RarityAssessmentListResponse","description":"Response for listing rarity assessments."},"RarityAssessmentResponse":{"properties":{"id":{"type":"integer","title":"Id"},"coin_id":{"type":"integer","title":"Coin Id"},"rarity_code":{"type":"string","title":"Rarity Code"},"rarity_system":{"type":"string","title":"Rarity System"},"source_type":{"type":"string","title":"Source Type"},"source_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Name"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"source_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Source Date"},"grade_range_low":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range Low"},"grade_range_high":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range High"},"grade_conditional_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Conditional Notes"},"census_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Census Total"},"census_this_grade":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Census This Grade"},"census_finer":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Census Finer"},"census_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Census Date"},"confidence":{"type":"string","title":"Confidence","default":"medium"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_primary":{"type":"boolean","title":"Is Primary","default":false},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","coin_id","rarity_code","rarity_system","source_type"],"title":"RarityAssessmentResponse","description":"Response for a rarity assessment."},"RarityAssessmentUpdateRequest":{"properties":{"rarity_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity Code"},"rarity_system":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity System"},"source_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Type"},"source_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Name"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"source_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Source Date"},"grade_range_low":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range Low"},"grade_range_high":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Range High"},"grade_conditional_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade Conditional Notes"},"census_total":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census Total"},"census_this_grade":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census This Grade"},"census_finer":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Census Finer"},"census_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Census Date"},"confidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Confidence"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_primary":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Primary"}},"type":"object","title":"RarityAssessmentUpdateRequest","description":"Request to update a rarity assessment (all fields optional)."},"RarityDistribution":{"properties":{"rarity":{"type":"string","title":"Rarity"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["rarity","count"],"title":"RarityDistribution"},"RarityInfoResponse":{"properties":{"rarity_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity Code"},"rarity_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rarity Description"},"specimens_known":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Specimens Known"},"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},"type":"object","title":"RarityInfoResponse","description":"Rarity information extracted from structured LLM response."},"ReferenceSearchResponse":{"properties":{"coins":{"items":{"$ref":"#/components/schemas/CoinResponse"},"type":"array","title":"Coins"},"total":{"type":"integer","title":"Total"},"catalog":{"type":"string","title":"Catalog"},"number":{"type":"string","title":"Number"},"volume":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Volume"}},"type":"object","required":["coins","total","catalog","number"],"title":"ReferenceSearchResponse","description":"Response for reference search endpoint."},"ReferenceValidateRequest":{"properties":{"reference":{"type":"string","title":"Reference","description":"Catalog reference to validate"},"coin_context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Coin Context","description":"Optional coin context"}},"type":"object","required":["reference"],"title":"ReferenceValidateRequest","description":"Request for reference validation."},"ReferenceValidateResponse":{"properties":{"is_valid":{"type":"boolean","title":"Is Valid"},"normalized":{"type":"string","title":"Normalized"},"alternatives":{"items":{"type":"string"},"type":"array","title":"Alternatives"},"notes":{"type":"string","title":"Notes"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"}},"type":"object","required":["is_valid","normalized","alternatives","notes","confidence","cost_usd"],"title":"ReferenceValidateResponse","description":"Response from reference validation."},"ReviewCountsResponse":{"properties":{"vocabulary":{"type":"integer","title":"Vocabulary","default":0},"ai":{"type":"integer","title":"Ai","default":0},"images":{"type":"integer","title":"Images","default":0},"discrepancies":{"type":"integer","title":"Discrepancies","default":0},"enrichments":{"type":"integer","title":"Enrichments","default":0},"data":{"type":"integer","title":"Data","default":0},"total":{"type":"integer","title":"Total","default":0}},"type":"object","title":"ReviewCountsResponse","description":"Response model for review counts."},"ReviewQueueItem":{"properties":{"id":{"type":"integer","title":"Id"},"coin_id":{"type":"integer","title":"Coin Id"},"field_name":{"type":"string","title":"Field Name"},"raw_value":{"type":"string","title":"Raw Value"},"vocab_term_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Vocab Term Id"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method"},"suggested_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggested Name"}},"type":"object","required":["id","coin_id","field_name","raw_value"],"title":"ReviewQueueItem","description":"Response model for review queue item."},"RulerDistribution":{"properties":{"ruler":{"type":"string","title":"Ruler"},"ruler_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ruler Id"},"count":{"type":"integer","title":"Count"},"reign_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reign Start"}},"type":"object","required":["ruler","count"],"title":"RulerDistribution"},"ScrapeRequest":{"properties":{"url":{"type":"string","title":"Url"}},"type":"object","required":["url"],"title":"ScrapeRequest"},"ScrapeResponse":{"properties":{"source":{"type":"string","title":"Source"},"lot_id":{"type":"string","title":"Lot Id"},"url":{"type":"string","title":"Url"},"sale_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Name"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"hammer_price":{"anyOf":[{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"},{"type":"null"}],"title":"Hammer Price"},"issuer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Issuer"},"grade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Grade"}},"type":"object","required":["source","lot_id","url"],"title":"ScrapeResponse"},"SecondaryAuthorityRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"term_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Term Id"},"authority_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authority Type"}},"type":"object","title":"SecondaryAuthorityRequest"},"SecondaryAuthorityResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"term_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Term Id"},"authority_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authority Type"}},"type":"object","title":"SecondaryAuthorityResponse"},"SecondaryTreatmentsV3Request":{"properties":{"is_overstrike":{"type":"boolean","title":"Is Overstrike","default":false},"undertype_visible":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Undertype Visible"},"undertype_attribution":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Undertype Attribution"},"has_test_cut":{"type":"boolean","title":"Has Test Cut","default":false},"test_cut_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Test Cut Count"},"test_cut_positions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Test Cut Positions"},"has_bankers_marks":{"type":"boolean","title":"Has Bankers Marks","default":false},"has_graffiti":{"type":"boolean","title":"Has Graffiti","default":false},"graffiti_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graffiti Description"},"was_mounted":{"type":"boolean","title":"Was Mounted","default":false},"mount_evidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mount Evidence"}},"type":"object","title":"SecondaryTreatmentsV3Request"},"SecondaryTreatmentsV3Response":{"properties":{"is_overstrike":{"type":"boolean","title":"Is Overstrike","default":false},"undertype_visible":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Undertype Visible"},"undertype_attribution":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Undertype Attribution"},"has_test_cut":{"type":"boolean","title":"Has Test Cut","default":false},"test_cut_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Test Cut Count"},"test_cut_positions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Test Cut Positions"},"has_bankers_marks":{"type":"boolean","title":"Has Bankers Marks","default":false},"has_graffiti":{"type":"boolean","title":"Has Graffiti","default":false},"graffiti_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graffiti Description"},"was_mounted":{"type":"boolean","title":"Was Mounted","default":false},"mount_evidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mount Evidence"}},"type":"object","title":"SecondaryTreatmentsV3Response"},"SeriesCreate":{"properties":{"name":{"type":"string","title":"Name"},"series_type":{"type":"string","title":"Series Type"},"target_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Count"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name","series_type"],"title":"SeriesCreate"},"SeriesListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/SeriesResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"SeriesListResponse"},"SeriesResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"},"series_type":{"type":"string","title":"Series Type"},"target_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Count"},"is_complete":{"type":"boolean","title":"Is Complete"},"slots":{"items":{"$ref":"#/components/schemas/SlotResponse"},"type":"array","title":"Slots","default":[]}},"type":"object","required":["id","name","slug","series_type","target_count","is_complete"],"title":"SeriesResponse"},"SlotCreate":{"properties":{"slot_number":{"type":"integer","title":"Slot Number"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["slot_number","name"],"title":"SlotCreate"},"SlotResponse":{"properties":{"id":{"type":"integer","title":"Id"},"series_id":{"type":"integer","title":"Series Id"},"slot_number":{"type":"integer","title":"Slot Number"},"name":{"type":"string","title":"Name"},"status":{"type":"string","title":"Status"}},"type":"object","required":["id","series_id","slot_number","name","status"],"title":"SlotResponse"},"StatsSummaryResponse":{"properties":{"total_coins":{"type":"integer","title":"Total Coins"},"total_value_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Value Usd"},"health":{"$ref":"#/components/schemas/HealthMetrics"},"by_category":{"items":{"$ref":"#/components/schemas/CategoryDistribution"},"type":"array","title":"By Category"},"by_metal":{"items":{"$ref":"#/components/schemas/MetalDistribution"},"type":"array","title":"By Metal"},"by_grade":{"items":{"$ref":"#/components/schemas/GradeDistribution"},"type":"array","title":"By Grade"},"by_certification":{"items":{"$ref":"#/components/schemas/CertificationDistribution"},"type":"array","title":"By Certification"},"by_ruler":{"items":{"$ref":"#/components/schemas/RulerDistribution"},"type":"array","title":"By Ruler"},"by_year":{"items":{"$ref":"#/components/schemas/YearDistribution"},"type":"array","title":"By Year"},"by_rarity":{"items":{"$ref":"#/components/schemas/RarityDistribution"},"type":"array","title":"By Rarity","default":[]},"acquisitions":{"items":{"$ref":"#/components/schemas/AcquisitionMonth"},"type":"array","title":"Acquisitions"},"filter_context":{"anyOf":[{"$ref":"#/components/schemas/FilterContext"},{"type":"null"}]}},"type":"object","required":["total_coins","health","by_category","by_metal","by_grade","by_certification","by_ruler","by_year","acquisitions"],"title":"StatsSummaryResponse"},"StatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"profile":{"type":"string","title":"Profile"},"monthly_cost_usd":{"type":"number","title":"Monthly Cost Usd"},"monthly_budget_usd":{"type":"number","title":"Monthly Budget Usd"},"budget_remaining_usd":{"type":"number","title":"Budget Remaining Usd"},"capabilities_available":{"items":{"type":"string"},"type":"array","title":"Capabilities Available"},"ollama_available":{"type":"boolean","title":"Ollama Available"},"provider_keys":{"anyOf":[{"$ref":"#/components/schemas/ProviderKeysStatus"},{"type":"null"}]}},"type":"object","required":["status","profile","monthly_cost_usd","monthly_budget_usd","budget_remaining_usd","capabilities_available","ollama_available"],"title":"StatusResponse","description":"LLM service status."},"SyncResponse":{"properties":{"status":{"type":"string","title":"Status"},"vocab_type":{"type":"string","title":"Vocab Type"},"added":{"type":"integer","title":"Added","default":0},"unchanged":{"type":"integer","title":"Unchanged","default":0},"errors":{"type":"integer","title":"Errors","default":0}},"type":"object","required":["status","vocab_type"],"title":"SyncResponse","description":"Response model for sync operations."},"ToolingRepairsRequest":{"properties":{"tooling_extent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tooling Extent"},"tooling_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tooling Details"},"has_ancient_repair":{"type":"boolean","title":"Has Ancient Repair","default":false},"ancient_repairs":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ancient Repairs"}},"type":"object","title":"ToolingRepairsRequest"},"ToolingRepairsResponse":{"properties":{"tooling_extent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tooling Extent"},"tooling_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tooling Details"},"has_ancient_repair":{"type":"boolean","title":"Has Ancient Repair","default":false},"ancient_repairs":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ancient Repairs"}},"type":"object","title":"ToolingRepairsResponse"},"UrlImportRequest":{"properties":{"url":{"type":"string","title":"Url","description":"Auction or listing URL to scrape"}},"type":"object","required":["url"],"title":"UrlImportRequest","description":"Request to import from URL."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VocabNormalizeRequest":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"Raw text to normalize"},"vocab_type":{"type":"string","title":"Vocab Type","description":"Type: 'issuer', 'mint', or 'denomination'"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"Optional context"}},"type":"object","required":["raw_text","vocab_type"],"title":"VocabNormalizeRequest","description":"Request for vocabulary normalization."},"VocabNormalizeResponse":{"properties":{"canonical_name":{"type":"string","title":"Canonical Name"},"confidence":{"type":"number","title":"Confidence"},"cost_usd":{"type":"number","title":"Cost Usd"},"model_used":{"type":"string","title":"Model Used"},"cached":{"type":"boolean","title":"Cached"},"reasoning":{"items":{"type":"string"},"type":"array","title":"Reasoning"}},"type":"object","required":["canonical_name","confidence","cost_usd","model_used","cached","reasoning"],"title":"VocabNormalizeResponse","description":"Response from vocabulary normalization."},"VocabTermResponse":{"properties":{"id":{"type":"integer","title":"Id"},"vocab_type":{"type":"string","title":"Vocab Type"},"canonical_name":{"type":"string","title":"Canonical Name"},"nomisma_uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nomisma Uri"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["id","vocab_type","canonical_name"],"title":"VocabTermResponse","description":"Response model for a vocabulary term."},"YearDistribution":{"properties":{"year":{"type":"integer","title":"Year"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["year","count"],"title":"YearDistribution"},"src__infrastructure__web__routers__llm__ProvenanceEntryResponse":{"properties":{"source":{"type":"string","title":"Source"},"source_type":{"type":"string","title":"Source Type"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"sale":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale"},"lot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot"}},"type":"object","required":["source","source_type","year","sale","lot"],"title":"ProvenanceEntryResponse","description":"Single provenance entry."},"src__infrastructure__web__routers__provenance__ProvenanceEntryResponse":{"properties":{"id":{"type":"integer","title":"Id"},"coin_id":{"type":"integer","title":"Coin Id"},"event_type":{"type":"string","title":"Event Type"},"source_name":{"type":"string","title":"Source Name"},"event_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Event Date"},"date_string":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date String"},"sale_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Name"},"sale_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sale Number"},"lot_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lot Number"},"catalog_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Catalog Reference"},"hammer_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Hammer Price"},"buyers_premium_pct":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Buyers Premium Pct"},"total_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Price"},"computed_total":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Computed Total"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"receipt_available":{"type":"boolean","title":"Receipt Available","default":false},"source_origin":{"type":"string","title":"Source Origin","default":"manual_entry"},"sort_order":{"type":"integer","title":"Sort Order","default":0},"raw_text":{"type":"string","title":"Raw Text","default":""},"is_acquisition":{"type":"boolean","title":"Is Acquisition","default":false}},"type":"object","required":["id","coin_id","event_type","source_name"],"title":"ProvenanceEntryResponse","description":"Response for a provenance entry."}}}}